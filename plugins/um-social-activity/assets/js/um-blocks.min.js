wp.blocks.registerBlockType("um-block/um-user-profile-wall",{title:wp.i18n.__("Social Activity Feed","um-activity"),description:wp.i18n.__("Used on the user profile page","um-activity"),icon:"businessman",category:"um-blocks",attributes:{content:{source:"html",selector:"p"},user_id:{type:"select"},hashtag:{type:"string"},wall_post:{type:"number"},user_wall:{type:"boolean"}},edit:function(e){e.attributes.user_id,e.attributes.hashtag,e.attributes.wall_post,e.attributes.user_wall;var a=e.attributes;e.attributes.content;function l(){var t="";void 0!==a.user_id?(t='[ultimatemember_wall user_id="'+a.user_id+'"',void 0!==a.hashtag&&(t=t+' hashtag="'+a.hashtag+'"'),void 0!==a.wall_post&&(t=t+' wall_post="'+a.wall_post+'"'),void 0!==a.user_wall&&(t=t+' user_wall="'+a.user_wall+'"'),t+="]",e.setAttributes({content:t})):e.setAttributes({content:"[ultimatemember_activity]"})}return[wp.element.createElement("div",{className:"um-social-activity-wrapper"},wp.element.createElement(wp.components.SelectControl,{label:wp.i18n.__("Select User","um-activity"),className:"um_select_users",type:"number",value:e.attributes.user_id,options:function(){var e=[];return wp.apiFetch({path:"/wp/v2/users/"}).then(function(t){t.map(function(t){e.push({label:t.name,value:t.id})})}),e},onChange:function(t){e.setAttributes({user_id:t}),a.user_id=t,l()}}),wp.element.createElement(wp.components.TextControl,{className:"um_hashtag",label:wp.i18n.__("Hashtag","um-activity"),value:e.attributes.hashtag,onChange:function(t){e.setAttributes({hashtag:t}),a.hashtag=t,l()}})),wp.element.createElement(wp.editor.InspectorControls,{},wp.element.createElement(wp.components.PanelBody,{title:wp.i18n.__("Shortcode Attribute","um-activity")},wp.element.createElement(wp.components.RangeControl,{label:wp.i18n.__("Show the form on the wall?","um-activity"),value:e.attributes.wall_post,min:2,max:20,onChange:function(t){e.setAttributes({wall_post:t}),a.wall_post=t,l()}}),wp.element.createElement(wp.components.ToggleControl,{label:wp.i18n.__("Show the form on the wall?","um-activity"),checked:e.attributes.user_wall,onChange:function(t){e.setAttributes({user_wall:t}),a.user_wall=t,l()}})))]},save:function(t){return wp.element.createElement(wp.editor.RichText.Content,{tagName:"p",className:t.className,value:t.attributes.content})}});